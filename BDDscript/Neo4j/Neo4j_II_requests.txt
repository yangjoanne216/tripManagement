//1.Quels sont les villes situées à moins de 300km d’une ville donnée ?example : Paris
// a) 距离某城 300km 内的所有城市 
MATCH (c1:City {name:"Paris"}), (c2:City)
WHERE c1<>c2
  AND point.distance(
        point({latitude:c1.latitude, longitude:c1.longitude}),
        point({latitude:c2.latitude, longitude:c2.longitude})
      ) <=300000
RETURN c2.name   AS nearbyCity,
       point.distance(
         point({latitude:c1.latitude, longitude:c1.longitude}),
         point({latitude:c2.latitude, longitude:c2.longitude})
       )/1000       AS distKm;

//2.Quelle est le temps de trajet et la distance entre 2 villes données ?
// b) 两城之间的路段距离和时间 (example : Paris and Lyon)
MATCH (c1:City {name:"Paris"})-[r:LOCATED_AT]-(c2:City {name:"Lyon"})
RETURN r.distanceKm   AS distanceKm,
       r.travelTimeMin AS travelTimeMin;

//3.Etant données une ville de départ et une ville d’arrivée, quels sont les différentes villes possibles à
visiter entre les 2 ?
// c) 起点与终点之间可能经过的城市（最短路径）(exemple: Paris and Grenoble)
MATCH path = shortestPath(
       (start:City {name:"Paris"})-[:LOCATED_AT*]-(end:City {name:"Grenoble"})
     )
UNWIND nodes(path)[1..-1] AS intermediate
RETURN DISTINCT intermediate.name AS cityOnRoute;